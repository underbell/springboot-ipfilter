from locust import HttpLocust, TaskSet, task, between
import random

class UserTasks(TaskSet):
    @task
    def apicall(self):
        ips = ["10.5.0.0", "10.5.0.1", "10.5.0.2", "10.5.0.3", "10.5.0.4", "10.5.0.5", "10.5.0.6", "10.5.0.7", "10.5.0.8", "10.5.0.9", "10.5.0.10", "10.5.0.11", "10.5.0.12", "10.5.0.13", "10.5.0.14", "10.5.0.15", "10.5.0.16", "10.5.0.17", "10.5.0.18", "10.5.0.19", "10.5.0.20", "10.5.0.21", "10.5.0.22", "10.5.0.23", "10.5.0.24", "10.5.0.25", "10.5.0.26", "10.5.0.27", "10.5.0.28", "10.5.0.29", "10.5.0.30", "10.5.0.31", "10.5.0.32", "10.5.0.33", "10.5.0.34", "10.5.0.35", "10.5.0.36", "10.5.0.37", "10.5.0.38", "10.5.0.39", "10.5.0.40", "10.5.0.41", "10.5.0.42", "10.5.0.43", "10.5.0.44", "10.5.0.45", "10.5.0.46", "10.5.0.47", "10.5.0.48", "10.5.0.49", "10.5.0.50", "10.5.0.51", "10.5.0.52", "10.5.0.53", "10.5.0.54", "10.5.0.55", "10.5.0.56", "10.5.0.57", "10.5.0.58", "10.5.0.59", "10.5.0.60", "10.5.0.61", "10.5.0.62", "10.5.0.63", "10.5.0.64", "10.5.0.65", "10.5.0.66", "10.5.0.67", "10.5.0.68", "10.5.0.69", "10.5.0.70", "10.5.0.71", "10.5.0.72", "10.5.0.73", "10.5.0.74", "10.5.0.75", "10.5.0.76", "10.5.0.77", "10.5.0.78", "10.5.0.79", "10.5.0.80", "10.5.0.81", "10.5.0.82", "10.5.0.83", "10.5.0.84", "10.5.0.85", "10.5.0.86", "10.5.0.87", "10.5.0.88", "10.5.0.89", "10.5.0.90", "10.5.0.91", "10.5.0.92", "10.5.0.93", "10.5.0.94", "10.5.0.95", "10.5.0.96", "10.5.0.97", "10.5.0.98", "10.5.0.99", "10.5.0.100", "10.5.0.101", "10.5.0.102", "10.5.0.103", "10.5.0.104", "10.5.0.105", "10.5.0.106", "10.5.0.107", "10.5.0.108", "10.5.0.109", "10.5.0.110", "10.5.0.111", "10.5.0.112", "10.5.0.113", "10.5.0.114", "10.5.0.115", "10.5.0.116", "10.5.0.117", "10.5.0.118", "10.5.0.119", "10.5.0.120", "10.5.0.121", "10.5.0.122", "10.5.0.123", "10.5.0.124", "10.5.0.125", "10.5.0.126", "10.5.0.127", "10.5.0.128", "10.5.0.129", "10.5.0.130", "10.5.0.131", "10.5.0.132", "10.5.0.133", "10.5.0.134", "10.5.0.135", "10.5.0.136", "10.5.0.137", "10.5.0.138", "10.5.0.139", "10.5.0.140", "10.5.0.141", "10.5.0.142", "10.5.0.143", "10.5.0.144", "10.5.0.145", "10.5.0.146", "10.5.0.147", "10.5.0.148", "10.5.0.149", "10.5.0.150", "10.5.0.151", "10.5.0.152", "10.5.0.153", "10.5.0.154", "10.5.0.155", "10.5.0.156", "10.5.0.157", "10.5.0.158", "10.5.0.159", "10.5.0.160", "10.5.0.161", "10.5.0.162", "10.5.0.163", "10.5.0.164", "10.5.0.165", "10.5.0.166", "10.5.0.167", "10.5.0.168", "10.5.0.169", "10.5.0.170", "10.5.0.171", "10.5.0.172", "10.5.0.173", "10.5.0.174", "10.5.0.175", "10.5.0.176", "10.5.0.177", "10.5.0.178", "10.5.0.179", "10.5.0.180", "10.5.0.181", "10.5.0.182", "10.5.0.183", "10.5.0.184", "10.5.0.185", "10.5.0.186", "10.5.0.187", "10.5.0.188", "10.5.0.189", "10.5.0.190", "10.5.0.191", "10.5.0.192", "10.5.0.193", "10.5.0.194", "10.5.0.195", "10.5.0.196", "10.5.0.197", "10.5.0.198", "10.5.0.199", "10.5.0.200", "10.5.0.201", "10.5.0.202", "10.5.0.203", "10.5.0.204", "10.5.0.205", "10.5.0.206", "10.5.0.207", "10.5.0.208", "10.5.0.209", "10.5.0.210", "10.5.0.211", "10.5.0.212", "10.5.0.213", "10.5.0.214", "10.5.0.215", "10.5.0.216", "10.5.0.217", "10.5.0.218", "10.5.0.219", "10.5.0.220", "10.5.0.221", "10.5.0.222", "10.5.0.223", "10.5.0.224", "10.5.0.225", "10.5.0.226", "10.5.0.227", "10.5.0.228", "10.5.0.229", "10.5.0.230", "10.5.0.231", "10.5.0.232", "10.5.0.233", "10.5.0.234", "10.5.0.235", "10.5.0.236", "10.5.0.237", "10.5.0.238", "10.5.0.239", "10.5.0.240", "10.5.0.241", "10.5.0.242", "10.5.0.243", "10.5.0.244", "10.5.0.245", "10.5.0.246", "10.5.0.247", "10.5.0.248", "10.5.0.249", "10.5.0.250", "10.5.0.251", "10.5.0.252", "10.5.0.253", "10.5.0.254", "10.5.0.255", "10.5.1.0", "10.5.1.1", "10.5.1.2", "10.5.1.3", "10.5.1.4", "10.5.1.5", "10.5.1.6", "10.5.1.7", "10.5.1.8", "10.5.1.9", "10.5.1.10", "10.5.1.11", "10.5.1.12", "10.5.1.13", "10.5.1.14", "10.5.1.15", "10.5.1.16", "10.5.1.17", "10.5.1.18", "10.5.1.19", "10.5.1.20", "10.5.1.21", "10.5.1.22", "10.5.1.23", "10.5.1.24", "10.5.1.25", "10.5.1.26", "10.5.1.27", "10.5.1.28", "10.5.1.29", "10.5.1.30", "10.5.1.31", "10.5.1.32", "10.5.1.33", "10.5.1.34", "10.5.1.35", "10.5.1.36", "10.5.1.37", "10.5.1.38", "10.5.1.39", "10.5.1.40", "10.5.1.41", "10.5.1.42", "10.5.1.43", "10.5.1.44", "10.5.1.45", "10.5.1.46", "10.5.1.47", "10.5.1.48", "10.5.1.49", "10.5.1.50", "10.5.1.51", "10.5.1.52", "10.5.1.53", "10.5.1.54", "10.5.1.55", "10.5.1.56", "10.5.1.57", "10.5.1.58", "10.5.1.59", "10.5.1.60", "10.5.1.61", "10.5.1.62", "10.5.1.63", "10.5.1.64", "10.5.1.65", "10.5.1.66", "10.5.1.67", "10.5.1.68", "10.5.1.69", "10.5.1.70", "10.5.1.71", "10.5.1.72", "10.5.1.73", "10.5.1.74", "10.5.1.75", "10.5.1.76", "10.5.1.77", "10.5.1.78", "10.5.1.79", "10.5.1.80", "10.5.1.81", "10.5.1.82", "10.5.1.83", "10.5.1.84", "10.5.1.85", "10.5.1.86", "10.5.1.87", "10.5.1.88", "10.5.1.89", "10.5.1.90", "10.5.1.91", "10.5.1.92", "10.5.1.93", "10.5.1.94", "10.5.1.95", "10.5.1.96", "10.5.1.97", "10.5.1.98", "10.5.1.99", "10.5.1.100", "10.5.1.101", "10.5.1.102", "10.5.1.103", "10.5.1.104", "10.5.1.105", "10.5.1.106", "10.5.1.107", "10.5.1.108", "10.5.1.109", "10.5.1.110", "10.5.1.111", "10.5.1.112", "10.5.1.113", "10.5.1.114", "10.5.1.115", "10.5.1.116", "10.5.1.117", "10.5.1.118", "10.5.1.119", "10.5.1.120", "10.5.1.121", "10.5.1.122", "10.5.1.123", "10.5.1.124", "10.5.1.125", "10.5.1.126", "10.5.1.127", "10.5.1.128", "10.5.1.129", "10.5.1.130", "10.5.1.131", "10.5.1.132", "10.5.1.133", "10.5.1.134", "10.5.1.135", "10.5.1.136", "10.5.1.137", "10.5.1.138", "10.5.1.139", "10.5.1.140", "10.5.1.141", "10.5.1.142", "10.5.1.143", "10.5.1.144", "10.5.1.145", "10.5.1.146", "10.5.1.147", "10.5.1.148", "10.5.1.149", "10.5.1.150", "10.5.1.151", "10.5.1.152", "10.5.1.153", "10.5.1.154", "10.5.1.155", "10.5.1.156", "10.5.1.157", "10.5.1.158", "10.5.1.159", "10.5.1.160", "10.5.1.161", "10.5.1.162", "10.5.1.163", "10.5.1.164", "10.5.1.165", "10.5.1.166", "10.5.1.167", "10.5.1.168", "10.5.1.169", "10.5.1.170", "10.5.1.171", "10.5.1.172", "10.5.1.173", "10.5.1.174", "10.5.1.175", "10.5.1.176", "10.5.1.177", "10.5.1.178", "10.5.1.179", "10.5.1.180", "10.5.1.181", "10.5.1.182", "10.5.1.183", "10.5.1.184", "10.5.1.185", "10.5.1.186", "10.5.1.187", "10.5.1.188", "10.5.1.189", "10.5.1.190", "10.5.1.191", "10.5.1.192", "10.5.1.193", "10.5.1.194", "10.5.1.195", "10.5.1.196", "10.5.1.197", "10.5.1.198", "10.5.1.199", "10.5.1.200", "10.5.1.201", "10.5.1.202", "10.5.1.203", "10.5.1.204", "10.5.1.205", "10.5.1.206", "10.5.1.207", "10.5.1.208", "10.5.1.209", "10.5.1.210", "10.5.1.211", "10.5.1.212", "10.5.1.213", "10.5.1.214", "10.5.1.215", "10.5.1.216", "10.5.1.217", "10.5.1.218", "10.5.1.219", "10.5.1.220", "10.5.1.221", "10.5.1.222", "10.5.1.223", "10.5.1.224", "10.5.1.225", "10.5.1.226", "10.5.1.227", "10.5.1.228", "10.5.1.229", "10.5.1.230", "10.5.1.231", "10.5.1.232", "10.5.1.233", "10.5.1.234", "10.5.1.235", "10.5.1.236", "10.5.1.237", "10.5.1.238", "10.5.1.239", "10.5.1.240", "10.5.1.241", "10.5.1.242", "10.5.1.243", "10.5.1.244", "10.5.1.245", "10.5.1.246", "10.5.1.247", "10.5.1.248", "10.5.1.249", "10.5.1.250", "10.5.1.251", "10.5.1.252", "10.5.1.253", "10.5.1.254", "10.5.1.255"]
        randomIp = random.choice(ips)
        h = {"Host":randomIp, "X-FORWARDED-FOR":randomIp}
        self.client.get("/ipv4", headers=h)

class WebsiteUser(HttpLocust):
    """
    Locust user class that does requests to the locust web server running on localhost
    """
    host = "http://localhost:8080"
    wait_time = between(2, 5)
    tasks = [UserTasks]